<div class = "container p-5">

		<h3 class = "text-center">Category List</h3>
		<div class = "text-center mt-3">
			<%= link_to 'Create Category', new_category_path, class: "btn btn-primary mb-3" %>
		</div>

		<div class = "row rounded-top border p-2 bg-secondary-subtle">

			<div class = "col-md-2">
				<h4 class = "text-center">Category Name</h4>
			</div>

			<div class = "col-md-5">
				<h4 class = "text-center">Description</h4>
			</div>

			<div class = "col-md-5">
				<h4 class = "text-center">Actions</h4>
			</div>

		</div>

		<% @categories.each_with_index do |category, i| %>

			<% if category.parent_id.blank? %>
				<div class = "row mt-3">
					<div class="accordion" id="accordionExample">
						<div class="accordion-item">
							<h2 class="accordion-header d-flex">
								
								<div class = "col-md-2 d-flex justify-content-around align-items-center justify-content-center">
									<h5><%= category.name %></h5>
								</div>

								<div class = "col-md-5 d-flex justify-content-around align-items-center justify-content-center">
									<h5><%= category.description %></h5>
								</div>

								<div class = "col-md-4 d-flex justify-content-around align-items-center justify-content-center">

									<%= link_to category_path(category), style: "color: black;" do %>
										<i class="bi bi-eye-fill fs-5"></i>
									<%  end %>

									<%= link_to edit_category_path(category) do %>
										<i class="bi bi-pencil-fill fs-5"></i>
									<%  end %>

									<%= link_to category_path(category), style: "color: red;", data: {turbo_method: :delete, turbo_confirm: "Are you confirm to delete"} do %>
										<i class="bi bi-trash-fill fs-5"></i>
									<%  end %>

								</div>

								<div class = "col-md-1 d-flex justify-content-around align-items-center justify-content-center">
									<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%= i %>" aria-expanded="false" aria-controls="collapse<%= i %>">
									</button>
								</div>

							</h2>
							<div id="collapse<%= i %>" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
								
									<% category.sub_categories.each_with_index do |sub_category, i| %>
										
											<div class="accordion" id="accordionExample">

												<div class="accordion-item">

													<h2 class="accordion-header d-flex">
										
														<div class = "col-md-2 d-flex justify-content-around align-items-center justify-content-center">
															<h5><%= sub_category.name %></h5>
														</div>
						
														<div class = "col-md-5 d-flex justify-content-around align-items-center justify-content-center">
															<h5><%= sub_category.description %></h5>
														</div>
						
														<div class = "col-md-4 d-flex justify-content-around align-items-center justify-content-center">
						
															<%= link_to category_path(category), style: "color: black;" do %>
																<i class="bi bi-eye-fill fs-5"></i>
															<%  end %>
						
															<%= link_to edit_category_path(category) do %>
																<i class="bi bi-pencil-fill fs-5"></i>
															<%  end %>
						
															<%= link_to category_path(category), style: "color: red;", data: {turbo_method: :delete, turbo_confirm: "Are you confirm to delete"} do %>
																<i class="bi bi-trash-fill fs-5"></i>
															<%  end %>
						
														</div>
					
														<div class = "col-md-1 d-flex justify-content-around align-items-center justify-content-center">
															<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse<%= i %>" aria-expanded="false" aria-controls="collapse<%= i %>">
															</button>
														</div>
					
												</h2>

												</div>										

											</div>
									
									<% end %>
		
							</div>
						</div>
					</div>
				</div>
			<% end %>

		<% end %>

</div>


